<!-- core/templates/core/producao.html -->
{% extends 'base.html' %}
{% load static %}

{% block title %}Produção - Urban Farm{% endblock %}

{% block header %}
<header class="header">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <h1 class="title">Tela de Produção</h1>
    <input type="text" class="search-input" id="search" placeholder="Buscar planta..." aria-label="Buscar planta">
    
    <select id="stage-filter" class="stage-filter" aria-label="Filtro de Estágio">
        <option value="">Todos os Estágios</option>
        <option value="GERMINACAO">Germinação</option>
        <option value="PLANTULA">Plântula</option>
        <option value="VEGETATIVO">Vegetativo</option>
        <option value="FLORACAO">Floração</option>
        <option value="FRUTIFICACAO">Frutificação</option>
        <option value="COLHEITA">Colheita</option>
    </select>
</header>
{% endblock %}

{% block content %}
<main>
    <div class="table-container">
        <table class="fornecedores-table" aria-label="Tabela de produção">
            <thead>
                <tr>
                    <th>Nome da Planta</th>
                    <th>Data de Plantio</th>
                    <th>Qnt Plantada (kg)</th>
                    <th>Estágio</th>
                    <th>Data de Colheita Estimada</th>
                </tr>
            </thead>
            <tbody id="plant-table-body">
                {% for planta in plantas %}
                <tr data-estagio="{{ planta.estagio }}">
                    <td>{{ planta.nome }}</td>
                    <td>{{ planta.data_plantio }}</td>
                    <td>{{ planta.quantidade_plantada }}</td>
                    <td>{{ planta.get_estagio_display }}</td>
                    <td>{{ planta.data_colheita_estimada }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="5">Nenhuma planta encontrada.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</main>

<link rel="stylesheet" href="{% static 'styles/producao.css' %}">
<script src="{% static 'scripts/producao.js' %}"></script>
{% endblock %}